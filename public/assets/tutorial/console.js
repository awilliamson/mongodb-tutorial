$(document).ready(function(){function e(){var e=$(window).height()-$("#menu").height()-n.height()-30;$("#explorer").height(e),$("#results").height(e-$("#history").height()-10),n.width(t.width()-20)}var t=$("#history"),n=$("#input").commandInput({trigger:executor.execute,history:t}),t=t.inputHistory({target:n});$("#pager").pager({}),$("#collections").delegate("li","click",explorer.collections.clicked),$(window).resize(e),e(),$("#toggleExplorer div").click(explorer.toggle),$("#speed").click(function(){$("#speedChoice").toggle()}),$("#speedChoice li").click(function(){teacher.changeSpeed($(this).text()),$("#speedChoice").hide()})});var explorer={};explorer.collections={context:function(e,t){var n=$("#collections");if("new"==e)return n.hide(),void 0;if("database"==e&&t.collections){var r=n.find("ul");r.children().remove();for(var i=0;i<t.collections.length;++i)r.append($("<li>").text(t.collections[i]));n.show()}},clicked:function(){executor.rawExecute("db."+$(this).text()+".stats();")}},explorer.toggle=function(){var e=$("#explorer"),t=$(this),n=0;e.is(":visible")?(t.removeClass("collapse").addClass("expand"),e.hide()):(t.removeClass("expand").addClass("collapse"),e.show(),n=e.width()+2),$("#input").css({left:n,width:$("#history").width()-20})},context.register(explorer.collections.context);